<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de Cadastro</title>
    <link rel="stylesheet" href="cadastro.css">
    <script src="cadastro.css"></script>
</head>
<body>
    <header class="header">
        <!-- Container do logo -->
        <div class="logo-container">
            <div class="logo">
                <!-- Placeholder para o logo institucional -->
                <img src="imagens/logocmcc.png" alt="Logo Institucional">
            </div>
        </div>

        <!-- Navegação principal -->
        <nav class="nav-container" id="navContainer">
            <!-- Item de navegação: Consulta -->
            <a href="consulta.html" class="nav-item">
                <div class="nav-icon-container">
                    <!-- Ícone de lupa SVG -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>

                </div>
                <div class="nav-text">CONSULTA</div>
            </a>
            <!-- Item de navegação: Cadastro -->
            <a href="index.html" class="nav-item">
                <div class="nav-icon-container">
                    <!-- Ícone de pessoa SVG -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    
                </div>
                <div class="nav-text">CADASTRO</div>
            </a>
            <!-- Item de navegação: F/O (Fator/Operação) -->
            <a href="teste_fo.html" class="nav-item">
                <div class="nav-icon-container">
                    <!-- Ícones sobrepostos para criar o símbolo -/+ -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="12" y1="5" x2="12" y2="19"></line>
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        style="position: absolute; margin-top: 8px;">
                        <line x1="5" y1="12" x2="19" y2="12"></line>
                    </svg>
                </div>
                <div class="nav-text">F/O</div>
            </a>
            <!-- Item de navegação: Frequência -->
            <a href="freq.html" class="nav-item">
                <div class="nav-icon-container">
                    <!-- Ícone de documento SVG -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10 9 9 9 8 9"></polyline>
                    </svg>
                </div>
                <div class="nav-text">FREQUÊNCIA</div>
            </a>
        </nav>

        <!-- Botão de menu para dispositivos móveis -->
        <button class="menu-toggle" id="menuToggle">
            <!-- Ícone de hambúrguer SVG -->
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <line x1="3" y1="12" x2="21" y2="12"></line>
                <line x1="3" y1="6" x2="21" y2="6"></line>
                <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
        </button>
    </header>

    
   <main>
    <div class="container">
        <header class="hea">
            <h1>Sistema de Cadastro</h1>
            <p>Formulário completo para registro de alunos e funcionários</p>
        </header>

         <div class="tabs"> 

            <!-- Controles das abas -->
            <input type="radio" name="tabs" id="tab1" class="tab-control" checked>
            <input type="radio" name="tabs" id="tab2" class="tab-control">

            <!-- Rótulos das abas -->
            <div class="tab-labels">
                <label for="tab1" class="tab-label">Cadastro de Aluno</label>
                <label for="tab2" class="tab-label">Cadastro de Funcionário</label>
            </div>

            <!-- Conteúdo das abas -->
            <div class="tab-contents">
                <!-- Aba 1: Formulário de Aluno -->
                <div id="content1" class="tab-content">
                    <form id="form-aluno">
                        <!-- Dados Pessoais -->
                        <div class="form-section">
                            <h3>Dados Pessoais</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="aluno-nome">Nome Completo</label>
                                    <input type="text" id="aluno-nome" name="nome" required>
                                </div>
                                <div class="form-group">
                                    <label class="required" for="aluno-data-nascimento">Data de Nascimento</label>
                                    <input type="date" id="aluno-data-nascimento" name="data_nascimento" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="aluno-cpf">CPF</label>
                                    <input type="text" id="aluno-cpf" name="cpf" placeholder="000.000.000-00" required>
                                </div>
                                <div class="form-group">
                                    <label class="required" for="aluno-rg">RG</label>
                                    <input type="text" id="aluno-rg" name="rg" placeholder="00.000.000-0">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="required" for="aluno-genero">Gênero</label>
                                <select id="aluno-genero" name="genero" required>
                                    <option value="">Selecione</option>
                                    <option value="masculino">Masculino</option>
                                    <option value="feminino">Feminino</option>
                                    <option value="outro">Outro</option>
                                    <option value="nao-informar">Prefiro não informar</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Contato -->
                        <div class="form-section">
                            <h3>Informações de Contato</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="aluno-email">E-mail</label>
                                    <input type="email" id="aluno-email" name="email" required>
                                </div>
                                <div class="form-group">
                                    <label class="required" for="aluno-telefone">Telefone</label>
                                    <input type="tel" id="aluno-telefone" name="telefone" placeholder="(00) 00000-0000" required>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Endereço -->
                        <div class="form-section">
                            <h3>Endereço</h3>
                            <div class="form-group">
                                <label class="required" for="aluno-cep">CEP</label>
                                <input type="text" id="aluno-cep" name="cep" placeholder="00000-000" required>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="aluno-logradouro">Logradouro</label>
                                    <input type="text" id="aluno-logradouro" name="logradouro" required>
                                </div>
                                <div class="form-group">
                                    <label class="required" for="aluno-numero">Número</label>
                                    <input type="text" id="aluno-numero" name="numero" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="aluno-complemento">Complemento</label>
                                    <input type="text" id="aluno-complemento" name="complemento">
                                </div>
                                <div class="form-group">
                                    <label class="required" for="aluno-bairro">Bairro</label>
                                    <input type="text" id="aluno-bairro" name="bairro" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="aluno-cidade">Cidade</label>
                                    <input type="text" id="aluno-cidade" name="cidade" required>
                                </div>
                                <div class="form-group">
                                    <label class="required" for="aluno-estado">Estado</label>
                                    <select id="aluno-estado" name="estado" required>
                                        <option value="">Selecione</option>
                                        <option value="AC">Acre</option>
                                        <option value="AL">Alagoas</option>
                                        <option value="AP">Amapá</option>
                                        <option value="AM">Amazonas</option>
                                        <option value="BA">Bahia</option>
                                        <option value="CE">Ceará</option>
                                        <option value="DF">Distrito Federal</option>
                                        <option value="ES">Espírito Santo</option>
                                        <option value="GO">Goiás</option>
                                        <option value="MA">Maranhão</option>
                                        <option value="MT">Mato Grosso</option>
                                        <option value="MS">Mato Grosso do Sul</option>
                                        <option value="MG">Minas Gerais</option>
                                        <option value="PA">Pará</option>
                                        <option value="PB">Paraíba</option>
                                        <option value="PR">Paraná</option>
                                        <option value="PE">Pernambuco</option>
                                        <option value="PI">Piauí</option>
                                        <option value="RJ">Rio de Janeiro</option>
                                        <option value="RN">Rio Grande do Norte</option>
                                        <option value="RS">Rio Grande do Sul</option>
                                        <option value="RO">Rondônia</option>
                                        <option value="RR">Roraima</option>
                                        <option value="SC">Santa Catarina</option>
                                        <option value="SP">São Paulo</option>
                                        <option value="SE">Sergipe</option>
                                        <option value="TO">Tocantins</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Informações Acadêmicas -->
                        <div class="form-section">
                            <h3>Informações Acadêmicas</h3>
                            <div class="form-group">
                                <label class="required" for="aluno-matricula">Número de Matrícula</label>
                                <input type="text" id="aluno-matricula" name="matricula" required>
                            </div>
                            
                            <div class="form-group">
                                <label class="required" for="aluno-curso">Curso</label>
                                <select id="aluno-curso" name="curso" required>
                                    <option value="">Selecione</option>
                                    <option value="administracao">Administração</option>
                                    <option value="computacao">turismo</option>
                                    <option value="computacao">desenvolvimento de sistemas</option>
                                    <option value="outro">Outro</option>
                                </select>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="aluno-periodo">Período</label>
                                    <select id="aluno-periodo" name="periodo" required>
                                        <option value="">Selecione</option>
                                        <option value="1">1º Período</option>
                                        <option value="2">2º Período</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="required" for="aluno-turno">Turno</label>
                                    <select id="aluno-turno" name="turno" required>
                                        <option value="">Selecione</option>
                                        <option value="matutino">Matutino</option>
                                        <option value="vespertino">Vespertino</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Responsáveis -->
                        <div class="form-section">
                            <h3>Responsáveis</h3>
                            <button type="button" class="btn-add-responsavel" onclick="adicionarResponsavel()">Adicionar Responsável</button>
                            <div id="responsaveis-container">
                                <div class="responsavel-item" data-index="0">
                                    <div class="responsavel-hea">
                                        <h4>Responsável 1</h4>
                                        <button type="button" class="btn-remove-responsavel" onclick="removerResponsavel(this)" style="display: none;">Remover</button>
                                    </div>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label class="required" for="resp0-nome">Nome Completo</label>
                                            <input type="text" id="resp0-nome" name="responsavel[0][nome]" required>
                                        </div>
                                        <div class="form-group">
                                            <label class="required" for="resp0-parentesco">Grau de Parentesco</label>
                                            <select id="resp0-parentesco" name="responsavel[0][parentesco]" required>
                                                <option value="">Selecione</option>
                                                <option value="pai">Pai</option>
                                                <option value="mae">Mãe</option>
                                                <option value="avo">Avô/Avó</option>
                                                <option value="tio">Tio/Tia</option>
                                                <option value="irmao">Irmão/Irmã</option>
                                                <option value="tutor">Tutor Legal</option>
                                                <option value="outro">Outro</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label class="required" for="resp0-cpf">CPF</label>
                                            <input type="text" id="resp0-cpf" name="responsavel[0][cpf]" placeholder="000.000.000-00" required>
                                        </div>
                                        <div class="form-group">
                                            <label class="required" for="resp0-telefone">Telefone</label>
                                            <input type="tel" id="resp0-telefone" name="responsavel[0][telefone]" placeholder="(00) 00000-0000" required>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="required" for="resp0-email">E-mail</label>
                                        <input type="email" id="resp0-email" name="responsavel[0][email]" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="btn-container">
                            <button type="button" class="btn btn-secondary" onclick="voltarPagina()">Voltar</button>
                            <button type="button" class="btn btn-danger" onclick="cancelarCadastro('aluno')">Cancelar</button>
                            <button type="submit" class="btn btn-submit">Cadastrar Aluno</button>
                        </div>
                    </form>
                </div>

                <!-- Aba 2: Formulário de Funcionário -->
                <div id="content2" class="tab-content">
                    <form id="form-funcionario">
                        <!-- Dados Pessoais -->
                        <div class="form-section">
                            <h3>Dados Pessoais</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="func-nome">Nome Completo</label>
                                    <input type="text" id="func-nome" name="nome" required>
                                </div>
                                <div class="form-group">
                                    <label class="required" for="func-data-nascimento">Data de Nascimento</label>
                                    <input type="date" id="func-data-nascimento" name="data_nascimento" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="func-cpf">CPF</label>
                                    <input type="text" id="func-cpf" name="cpf" placeholder="000.000.000-00" required>
                                </div>
                                <div class="form-group">
                                    <label class="required" for="func-rg">RG</label>
                                    <input type="text" id="func-rg" name="rg" placeholder="00.000.000-0">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="func-genero">Gênero</label>
                                    <select id="func-genero" name="genero" required>
                                        <option value="">Selecione</option>
                                        <option value="masculino">Masculino</option>
                                        <option value="feminino">Feminino</option>
                                        <option value="outro">Outro</option>
                                        <option value="nao-informar">Prefiro não informar</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="required" for="func-estado-civil">Estado Civil</label>
                                    <select id="func-estado-civil" name="estado_civil" required>
                                        <option value="">Selecione</option>
                                        <option value="solteiro">Solteiro(a)</option>
                                        <option value="casado">Casado(a)</option>
                                        <option value="divorciado">Divorciado(a)</option>
                                        <option value="viuvo">Viúvo(a)</option>
                                        <option value="uniao-estavel">União Estável</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Contato -->
                        <div class="form-section">
                            <h3>Informações de Contato</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="func-email">E-mail</label>
                                    <input type="email" id="func-email" name="email" required>
                                </div>
                                <div class="form-group">
                                    <label class="required" for="func-email-institucional">E-mail Institucional</label>
                                    <input type="email" id="func-email-institucional" name="email_institucional" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="func-telefone">Telefone</label>
                                    <input type="tel" id="func-telefone" name="telefone" placeholder="(00) 00000-0000" required>
                                </div>
                                <div class="form-group">
                                    <label for="func-telefone-alternativo">Telefone Alternativo</label>
                                    <input type="tel" id="func-telefone-alternativo" name="telefone_alternativo" placeholder="(00) 00000-0000">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Endereço -->
                        <div class="form-section">
                            <h3>Endereço</h3>
                            <div class="form-group">
                                <label class="required" for="func-cep">CEP</label>
                                <input type="text" id="func-cep" name="cep" placeholder="00000-000" required>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="func-logradouro">Logradouro</label>
                                    <input type="text" id="func-logradouro" name="logradouro" required>
                                </div>
                                <div class="form-group">
                                    <label class="required" for="func-numero">Número</label>
                                    <input type="text" id="func-numero" name="numero" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="func-complemento">Complemento</label>
                                    <input type="text" id="func-complemento" name="complemento">
                                </div>
                                <div class="form-group">
                                    <label class="required" for="func-bairro">Bairro</label>
                                    <input type="text" id="func-bairro" name="bairro" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="func-cidade">Cidade</label>
                                    <input type="text" id="func-cidade" name="cidade" required>
                                </div>
                                <div class="form-group">
                                    <label class="required" for="func-estado">Estado</label>
                                    <select id="func-estado" name="estado" required>
                                        <option value="">Selecione</option>
                                        <option value="AC">Acre</option>
                                        <option value="AL">Alagoas</option>
                                        <option value="AP">Amapá</option>
                                        <option value="AM">Amazonas</option>
                                        <option value="BA">Bahia</option>
                                        <option value="CE">Ceará</option>
                                        <option value="DF">Distrito Federal</option>
                                        <option value="ES">Espírito Santo</option>
                                        <option value="GO">Goiás</option>
                                        <option value="MA">Maranhão</option>
                                        <option value="MT">Mato Grosso</option>
                                        <option value="MS">Mato Grosso do Sul</option>
                                        <option value="MG">Minas Gerais</option>
                                        <option value="PA">Pará</option>
                                        <option value="PB">Paraíba</option>
                                        <option value="PR">Paraná</option>
                                        <option value="PE">Pernambuco</option>
                                        <option value="PI">Piauí</option>
                                        <option value="RJ">Rio de Janeiro</option>
                                        <option value="RN">Rio Grande do Norte</option>
                                        <option value="RS">Rio Grande do Sul</option>
                                        <option value="RO">Rondônia</option>
                                        <option value="RR">Roraima</option>
                                        <option value="SC">Santa Catarina</option>
                                        <option value="SP">São Paulo</option>
                                        <option value="SE">Sergipe</option>
                                        <option value="TO">Tocantins</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Informações Profissionais -->
                        <div class="form-section">
                            <h3>Informações Profissionais</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="func-matricula">Número de Matrícula/Registro</label>
                                    <input type="text" id="func-matricula" name="matricula" required>
                                </div>
                                <div class="form-group">
                                    <label class="required" for="func-data-admissao">Data de Admissão</label>
                                    <input type="date" id="func-data-admissao" name="data_admissao" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="func-cargo">Cargo</label>
                                    <select id="func-cargo" name="cargo" required>
                                        <option value="">Selecione</option>
                                        <option value="professor">Professor</option>
                                        <option value="secretario">Secretário(a)</option>
                                        <option value="coordenador">Pedagogo(a)</option>
                                        <option value="diretor">Diretor(a)</option>
                                        <option value="bibliotecario">Bibliotecário(a)</option>
                                        <option value="tecnico-laboratorio">Técnico de Laboratório</option>
                                    </select>
                                </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required" for="func-carga-horaria">Carga Horária</label>
                                    <input type="number" id="func-carga-horaria" name="carga_horaria" min="1" max="60" required>
                                </div>
                                <div class="form-group">
                                    <label class="required" for="func-tipo-contrato"> Contrato</label>
                                    <select id="func-tipo-contrato" name="tipo_contrato" required>
                                        <option value="">Selecione</option>
                                        <option value="clt">CLT</option>
                                        <option value="temporario">Temporário</option>
                                        <option value="estagio">Estágio</option>
                                        <option value="outro">Outro</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        
                        <div class="btn-container">
                            <button type="button" class="btn btn-secondary" onclick="voltarPagina()">Voltar</button>
                            <button type="button" class="btn btn-danger" onclick="cancelarCadastro('funcionario')">Cancelar</button>
                            <button type="submit" class="btn btn-submit">Cadastrar Funcionário</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    </main>
    <!-- Rodapé da página -->
    <footer class="footer">
        <!-- Espaço para conteúdo do rodapé -->
    </footer>


    <script>
        let contadorResponsaveis = 1;

        // Validação básica dos formulários
        document.getElementById('form-aluno').addEventListener('submit', function(e) {
            e.preventDefault();
            if (validarFormulario('aluno')) {
                alert('Formulário de aluno enviado com sucesso!');
                this.reset();
                resetarResponsaveis();
            }
        });
        
        document.getElementById('form-funcionario').addEventListener('submit', function(e) {
            e.preventDefault();
            if (validarFormulario('funcionario')) {
                alert('Formulário de funcionário enviado com sucesso!');
                this.reset();
            }
        });

        // Função para validar formulário
        function validarFormulario(tipo) {
            const form = document.getElementById(`form-${tipo}`);
            const requiredFields = form.querySelectorAll('[required]');
            let isValid = true;

            requiredFields.forEach(field => {
                if (!field.value.trim()) {
                    field.style.borderColor = 'var(--danger)';
                    isValid = false;
                } else {
                    field.style.borderColor = 'var(--border)';
                }
            });

            if (!isValid) {
                alert('Por favor, preencha todos os campos obrigatórios.');
            }

            return isValid;
        }

        // Função para adicionar responsável
        function adicionarResponsavel() {
            const container = document.getElementById('responsaveis-container');
            const novoResponsavel = document.createElement('div');
            novoResponsavel.className = 'responsavel-item';
            novoResponsavel.setAttribute('data-index', contadorResponsaveis);
            
            novoResponsavel.innerHTML = `
                <div class="responsavel-header">
                    <h4>Responsável ${contadorResponsaveis + 1}</h4>
                    <button type="button" class="btn-remove-responsavel" onclick="removerResponsavel(this)">Remover</button>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="required" for="resp${contadorResponsaveis}-nome">Nome Completo</label>
                        <input type="text" id="resp${contadorResponsaveis}-nome" name="responsavel[${contadorResponsaveis}][nome]" required>
                    </div>
                    <div class="form-group">
                        <label class="required" for="resp${contadorResponsaveis}-parentesco">Grau de Parentesco</label>
                        <select id="resp${contadorResponsaveis}-parentesco" name="responsavel[${contadorResponsaveis}][parentesco]" required>
                            <option value="">Selecione</option>
                            <option value="pai">Pai</option>
                            <option value="mae">Mãe</option>
                            <option value="avo">Avô/Avó</option>
                            <option value="tio">Tio/Tia</option>
                            <option value="irmao">Irmão/Irmã</option>
                            <option value="tutor">Tutor Legal</option>
                            <option value="outro">Outro</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label class="required" for="resp${contadorResponsaveis}-cpf">CPF</label>
                        <input type="text" id="resp${contadorResponsaveis}-cpf" name="responsavel[${contadorResponsaveis}][cpf]" placeholder="000.000.000-00" required>
                    </div>
                    <div class="form-group">
                        <label class="required" for="resp${contadorResponsaveis}-telefone">Telefone</label>
                        <input type="tel" id="resp${contadorResponsaveis}-telefone" name="responsavel[${contadorResponsaveis}][telefone]" placeholder="(00) 00000-0000" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="required" for="resp${contadorResponsaveis}-email">E-mail</label>
                    <input type="email" id="resp${contadorResponsaveis}-email" name="responsavel[${contadorResponsaveis}][email]" required>
                </div>
            `;
            
            container.appendChild(novoResponsavel);
            
            // Aplicar máscaras aos novos campos
            aplicarMascarasCampos(contadorResponsaveis);
            
            contadorResponsaveis++;
            atualizarBotoesRemover();
        }

        // Função para remover responsável
        function removerResponsavel(botao) {
            const responsavelItem = botao.closest('.responsavel-item');
            responsavelItem.remove();
            atualizarNumeracaoResponsaveis();
            atualizarBotoesRemover();
        }

        // Função para atualizar numeração dos responsáveis
        function atualizarNumeracaoResponsaveis() {
            const responsaveis = document.querySelectorAll('.responsavel-item');
            responsaveis.forEach((responsavel, index) => {
                const titulo = responsavel.querySelector('h4');
                titulo.textContent = `Responsável ${index + 1}`;
            });
        }

        // Função para atualizar visibilidade dos botões de remover
        function atualizarBotoesRemover() {
            const responsaveis = document.querySelectorAll('.responsavel-item');
            const botoesRemover = document.querySelectorAll('.btn-remove-responsavel');
            
            if (responsaveis.length === 1) {
                botoesRemover[0].style.display = 'none';
            } else {
                botoesRemover.forEach(botao => {
                    botao.style.display = 'inline-block';
                });
            }
        }

        // Função para resetar responsáveis
        function resetarResponsaveis() {
            const container = document.getElementById('responsaveis-container');
            const responsaveis = container.querySelectorAll('.responsavel-item');
            
            // Remove todos exceto o primeiro
            for (let i = 1; i < responsaveis.length; i++) {
                responsaveis[i].remove();
            }
            
            contadorResponsaveis = 1;
            atualizarBotoesRemover();
        }

        // Função para aplicar máscaras aos campos dos responsáveis
        function aplicarMascarasCampos(index) {
            const cpfField = document.getElementById(`resp${index}-cpf`);
            const telefoneField = document.getElementById(`resp${index}-telefone`);

            cpfField.addEventListener('input', function() {
                this.value = formatCPF(this.value);
            });

            telefoneField.addEventListener('input', function() {
                this.value = formatTelefone(this.value);
            });

            cpfField.addEventListener('blur', function() {
                if (this.value && !validarCPF(this.value)) {
                    this.style.borderColor = 'var(--danger)';
                    this.title = 'CPF inválido';
                } else {
                    this.style.borderColor = 'var(--border)';
                    this.title = '';
                }
            });
        }
        
        // Função para formatar CPF
        function formatCPF(cpf) {
            cpf = cpf.replace(/\D/g, '');
            cpf = cpf.replace(/(\d{3})(\d)/, '$1.$2');
            cpf = cpf.replace(/(\d{3})(\d)/, '$1.$2');
            cpf = cpf.replace(/(\d{3})(\d{1,2})$/, '$1-$2');
            return cpf;
        }
        
        // Função para formatar telefone
        function formatTelefone(telefone) {
            telefone = telefone.replace(/\D/g, '');
            telefone = telefone.replace(/^(\d{2})(\d)/g, '($1) $2');
            telefone = telefone.replace(/(\d)(\d{4})$/, '$1-$2');
            return telefone;
        }
        
        // Função para formatar CEP
        function formatCEP(cep) {
            cep = cep.replace(/\D/g, '');
            cep = cep.replace(/^(\d{5})(\d)/, '$1-$2');
            return cep;
        }
        
        // Função para formatar RG
        function formatRG(rg) {
            rg = rg.replace(/\D/g, '');
            rg = rg.replace(/(\d{2})(\d)/, '$1.$2');
            rg = rg.replace(/(\d{3})(\d)/, '$1.$2');
            rg = rg.replace(/(\d{3})(\d{1})$/, '$1-$2');
            return rg;
        }

        // Função para voltar página
        function voltarPagina() {
            if (confirm('Tem certeza que deseja voltar? Os dados não salvos serão perdidos.')) {
                window.history.back();
            }
        }

        // Função para cancelar cadastro
        function cancelarCadastro(tipo) {
            if (confirm('Tem certeza que deseja cancelar o cadastro? Todos os dados serão perdidos.')) {
                document.getElementById(`form-${tipo}`).reset();
                if (tipo === 'aluno') {
                    resetarResponsaveis();
                }
                alert('Cadastro cancelado com sucesso!');
            }
        }
        
        // Aplicar formatação aos campos CPF
        document.getElementById('aluno-cpf').addEventListener('input', function() {
            this.value = formatCPF(this.value);
        });
        
        document.getElementById('func-cpf').addEventListener('input', function() {
            this.value = formatCPF(this.value);
        });
        
        // Aplicar formatação aos campos RG
        document.getElementById('aluno-rg').addEventListener('input', function() {
            this.value = formatRG(this.value);
        });
        
        document.getElementById('func-rg').addEventListener('input', function() {
            this.value = formatRG(this.value);
        });
        
        // Aplicar formatação aos campos telefone
        document.getElementById('aluno-telefone').addEventListener('input', function() {
            this.value = formatTelefone(this.value);
        });
        
        document.getElementById('func-telefone').addEventListener('input', function() {
            this.value = formatTelefone(this.value);
        });
        
        document.getElementById('func-telefone-alternativo').addEventListener('input', function() {
            this.value = formatTelefone(this.value);
        });
        
        // Aplicar formatação aos campos CEP
        document.getElementById('aluno-cep').addEventListener('input', function() {
            this.value = formatCEP(this.value);
        });
        
        document.getElementById('func-cep').addEventListener('input', function() {
            this.value = formatCEP(this.value);
        });

        // Aplicar máscaras ao primeiro responsável
        aplicarMascarasCampos(0);

        // Função para consultar CEP via API dos Correios
        async function buscarCEP(cep, tipo) {
            const cepLimpo = cep.replace(/\D/g, '');
            
            if (cepLimpo.length === 8) {
                try {
                    const response = await fetch(`https://viacep.com.br/ws/${cepLimpo}/json/`);
                    const data = await response.json();
                    
                    if (!data.erro) {
                        // Preencher os campos automaticamente
                        document.getElementById(`${tipo}-logradouro`).value = data.logradouro || '';
                        document.getElementById(`${tipo}-bairro`).value = data.bairro || '';
                        document.getElementById(`${tipo}-cidade`).value = data.localidade || '';
                        
                        // Selecionar o estado
                        const estadoSelect = document.getElementById(`${tipo}-estado`);
                        estadoSelect.value = data.uf || '';
                    } else {
                        alert('CEP não encontrado!');
                    }
                } catch (error) {
                    console.log('Erro ao buscar CEP:', error);
                }
            }
        }

        // Adicionar evento de blur aos campos CEP para busca automática
        document.getElementById('aluno-cep').addEventListener('blur', function() {
            buscarCEP(this.value, 'aluno');
        });
        
        document.getElementById('func-cep').addEventListener('blur', function() {
            buscarCEP(this.value, 'func');
        });

        // Validação de CPF
        function validarCPF(cpf) {
            cpf = cpf.replace(/\D/g, '');
            
            if (cpf.length !== 11 || /^(\d)\1+$/.test(cpf)) {
                return false;
            }
            
            let soma = 0;
            let resto;
            
            for (let i = 1; i <= 9; i++) {
                soma += parseInt(cpf.substring(i-1, i)) * (11 - i);
            }
            
            resto = (soma * 10) % 11;
            if (resto === 10 || resto === 11) resto = 0;
            if (resto !== parseInt(cpf.substring(9, 10))) return false;
            
            soma = 0;
            for (let i = 1; i <= 10; i++) {
                soma += parseInt(cpf.substring(i-1, i)) * (12 - i);
            }
            
            resto = (soma * 10) % 11;
            if (resto === 10 || resto === 11) resto = 0;
            if (resto !== parseInt(cpf.substring(10, 11))) return false;
            
            return true;
        }

        // Validação em tempo real de CPF
        document.getElementById('aluno-cpf').addEventListener('blur', function() {
            if (this.value && !validarCPF(this.value)) {
                this.style.borderColor = 'var(--danger)';
                this.title = 'CPF inválido';
            } else {
                this.style.borderColor = 'var(--border)';
                this.title = '';
            }
        });
        
        document.getElementById('func-cpf').addEventListener('blur', function() {
            if (this.value && !validarCPF(this.value)) {
                this.style.borderColor = 'var(--danger)';
                this.title = 'CPF inválido';
            } else {
                this.style.borderColor = 'var(--border)';
                this.title = '';
            }
        });

        // Validação de e-mail
        function validarEmail(email) {
            const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return regex.test(email);
        }

        // Aplicar validação de e-mail
        const emailFields = ['aluno-email', 'func-email', 'func-email-institucional'];
        emailFields.forEach(fieldId => {
            document.getElementById(fieldId).addEventListener('blur', function() {
                if (this.value && !validarEmail(this.value)) {
                    this.style.borderColor = 'var(--danger)';
                    this.title = 'E-mail inválido';
                } else {
                    this.style.borderColor = 'var(--border)';
                    this.title = '';
                }
            });
        });

        // Máscara para limitar caracteres em campos numéricos
        document.getElementById('func-carga-horaria').addEventListener('input', function() {
            if (this.value > 60) this.value = 60;
            if (this.value < 1) this.value = 1;
        });

        // Definir data máxima para data de nascimento (18 anos atrás)
        const hoje = new Date();
        const dataMaxima = new Date(hoje.getFullYear() - 18, hoje.getMonth(), hoje.getDate());
        const dataMaximaString = dataMaxima.toISOString().split('T')[0];
        
        document.getElementById('aluno-data-nascimento').setAttribute('max', dataMaximaString);
        document.getElementById('func-data-nascimento').setAttribute('max', dataMaximaString);

        // Definir data máxima para data de admissão (hoje)
        const hojeString = hoje.toISOString().split('T')[0];
        document.getElementById('func-data-admissao').setAttribute('max', hojeString);

        console.log('Sistema de cadastro com abas carregado com sucesso!');
    </script>
</body>
</html>
                                    